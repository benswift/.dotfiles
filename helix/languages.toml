[[language]]
name = "python"
language-servers = ["ruff", "ty"]
auto-format = true

[language-server.ruff]
command = "ruff"
args = ["server"]

[language-server.ty]
command = "ty"
args = ["server"]

[[language]]
name = "elixir"
language-servers = ["elixir-ls"]
auto-format = true

[[language]]
name = "heex"
language-servers = ["elixir-ls"]
auto-format = true

[language-server.elixir-ls]
command = "elixir-ls"

[language-server.nb-lsp]
command = "nb-lsp"

# harper-ls: grammar checker for prose (disabled by default---too noisy)
# to enable, add "harper-ls" to language-servers below and uncomment:
# [language-server.harper-ls]
# command = "harper-ls"
# args = ["--stdio"]
# [language-server.harper-ls.config.harper-ls]
# dialect = "Australian"

[[language]]
name = "markdown"
language-servers = ["marksman", "nb-lsp"]
auto-format = true
formatter = { command = "prettier", args = ["--prose-wrap", "always", "--stdin-filepath", "file.md"] }

[[language]]
name = "latex"
auto-format = true
formatter = { command = "tex-fmt", args = ["--stdin"] }

[[language]]
name = "typst"
auto-format = true
formatter = { command = "typstyle", args = ["--wrap-text"] }

[[language]]
name = "toml"
auto-format = true
formatter = { command = "taplo", args = ["fmt", "-"] }

[[language]]
name = "kdl"
auto-format = true
formatter = { command = "kdlfmt", args = ["format", "-"] }

[language-server.mutt-compose-lsp]
command = "mutt-compose-lsp"

[[language]]
name = "mutt-compose"
scope = "text.mutt-compose"
language-servers = ["mutt-compose-lsp"]
file-types = [{ glob = "neomutt-*" }]

[[grammar]]
name = "mutt-compose"
source = { git = "https://github.com/benswift/tree-sitter-mutt-compose", rev = "69ce75871ad9860ab42aaa117ab94aea76b2a5a2" }
