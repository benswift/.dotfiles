[[language]]
name = "python"
language-servers = ["ruff", "ty"]
auto-format = true

[language-server.ruff]
command = "ruff"
args = ["server"]

[language-server.ty]
command = "ty"
args = ["server"]

[[language]]
name = "elixir"
language-servers = ["elixir-ls"]
auto-format = true

[[language]]
name = "heex"
language-servers = ["elixir-ls"]
auto-format = true

[language-server.elixir-ls]
command = "elixir-ls"

[language-server.nb-lsp]
command = "nb-lsp"

# harper-ls: grammar checker for prose (disabled by default---too noisy)
# to enable, add "harper-ls" to language-servers below and uncomment:
# [language-server.harper-ls]
# command = "harper-ls"
# args = ["--stdio"]
# [language-server.harper-ls.config.harper-ls]
# dialect = "Australian"

[[language]]
name = "markdown"
language-servers = ["marksman", "nb-lsp"]
auto-format = true
formatter = { command = "prettier", args = ["--prose-wrap", "always", "--stdin-filepath", "file.md"] }

[[language]]
name = "latex"
auto-format = true
formatter = { command = "tex-fmt", args = ["--stdin"] }

[[language]]
name = "typst"
auto-format = true
formatter = { command = "typstyle", args = ["--wrap-text"] }

[[language]]
name = "toml"
auto-format = true
formatter = { command = "taplo", args = ["fmt", "-"] }

[[language]]
name = "kdl"
auto-format = true
formatter = { command = "kdlfmt", args = ["format", "-"] }

[language-server.mutt-compose-lsp]
command = "mutt-compose-lsp"

[[language]]
name = "mutt-compose"
scope = "text.mutt-compose"
language-servers = ["mutt-compose-lsp"]
file-types = [{ glob = "neomutt-*" }]
text-width = 72
soft-wrap.enable = true

[[language]]
name = "muttrc"
scope = "source.muttrc"
file-types = ["muttrc", { glob = "*muttrc" }]

[[language]]
name = "extempore"
scope = "source.extempore"
file-types = ["xtm"]
comment-token = ";"
block-comment-tokens = { start = "#|", end = "|#" }
indent = { tab-width = 2, unit = "  " }

[[grammar]]
name = "extempore"
source = { git = "https://github.com/extemporelang/tree-sitter-extempore", rev = "91c8946ae8886e5798bfe9c4beae2b6c69fde7b5" }

[[grammar]]
name = "mutt-compose"
source = { git = "https://github.com/benswift/tree-sitter-mutt-compose", rev = "c0558cc601b8407fe84907f230a7595fdece1836" }

[[grammar]]
name = "muttrc"
source = { git = "https://github.com/benswift/tree-sitter-muttrc", rev = "f75f401f7584bcb44f6bdca96b1419b7ccc4331c" }
